{% extends 'base.html' %}
{% block content %}

<h3>TICKET:</h3>

<div class="list-group">

    {% for ticket in tickets %}
    <a href="#" class="list-group-item list-group-item-action flex-column align-items-start" id="{{ ticket.id }}">
    <div class="d-flex w-100 justify-content-between">
        {% if 'bug' in ticket.ticket_type %}
        <h5 class="mb-1"><i class="fas fa-bug"></i> {{ ticket.title }}</h5>
        {% else %}
        <h5 class="mb-1"><i class="fas fa-file-medical"></i> {{ ticket.title }}</h5>
        {% endif %}
        <div class="ball">
            <span class="badge badge-primary badge-pill">14</span>
            <small>Comments</small>
        </div>
    </div>
    <div class="d-flex w-100 justify-content-between">
        <p class="mb-1 ticket-description p-2">{{ ticket.description|linebreaksbr }}</p>
        {% if 'critical' in ticket.priority %}
        <span class="badge badge-pill badge-danger ml-auto align-self-start">{{ ticket.priority }}</span>
        {% elif 'major' in ticket.priority %}
        <span class="badge badge-pill badge-warning ml-auto align-self-start">{{ ticket.priority }}</span>
        {% elif 'medium' in ticket.priority %}
        <span class="badge badge-pill badge-info ml-auto align-self-start">{{ ticket.priority }}</span>
        {% elif 'minor' in ticket.priority %}
        <span class="badge badge-pill badge-primary ml-auto align-self-start">{{ ticket.priority }}</span>
        {% elif 'trivial' in ticket.priority %}
        <span class="badge badge-pill badge-success ml-auto align-self-start">{{ ticket.priority }}</span>
        {% endif %}
    </div>
    </a>
    {% endfor %}

</div>

{% endblock %}